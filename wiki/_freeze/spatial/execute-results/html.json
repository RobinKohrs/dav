{
  "hash": "6a4cc3e30df43be8f79c08237e2f665c",
  "result": {
    "engine": "knitr",
    "markdown": "# Spatial \n\n## Raster\n\n\n\n### Reprojecting\n\n\n## Load data\n\n:::{.callout-note collapse=\"true\"}\n\n## `ncdump -h` on the large file\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Use intern = TRUE to capture the output\nncdump = system(glue(\"ncdump -h {raster_file_path}\"), intern = TRUE)\ncat(ncdump, sep=\"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nnetcdf SPARTACUS2-DAILY_TX_2024 {\ndimensions:\n\ttime = 366 ;\n\ty = 329 ;\n\tx = 584 ;\nvariables:\n\tint TX(time, y, x) ;\n\t\tTX:_FillValue = -999 ;\n\t\tTX:cell_method = \"time: maximum (19:00 CET day-1 to 19:00 CET)\" ;\n\t\tTX:description = \"daily maximum (derived from daily maxima measured between 19:00 CET of the previous day and 19:00 CET of the respective day\" ;\n\t\tTX:esri_pe_string = \"PROJCS[\\\"ETRS89 / Austria Lambert\\\",GEOGCS[\\\"ETRS89\\\",DATUM[\\\"European_Terrestrial_Reference_System_1989\\\",SPHEROID[\\\"GRS 1980\\\",6378137,298.257222101,AUTHORITY[\\\"EPSG\\\",\\\"7019\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6258\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.01745329251994328,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4258\\\"]],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],PROJECTION[\\\"Lambert_Conformal_Conic_2SP\\\"],PARAMETER[\\\"standard_parallel_1\\\",49],PARAMETER[\\\"standard_parallel_2\\\",46],PARAMETER[\\\"latitude_of_origin\\\",47.5],PARAMETER[\\\"central_meridian\\\",13.33333333333333],PARAMETER[\\\"false_easting\\\",400000],PARAMETER[\\\"false_northing\\\",400000],AUTHORITY[\\\"EPSG\\\",\\\"3416\\\"],AXIS[\\\"Y\\\",EAST],AXIS[\\\"X\\\",NORTH]]\" ;\n\t\tTX:grid_mapping = \"lambert_conformal_conic\" ;\n\t\tTX:long_name = \"daily maximum of air temperature\" ;\n\t\tTX:standard_name = \"surface_temperature\" ;\n\t\tTX:units = \"degree_Celsius\" ;\n\t\tTX:coordinates = \"lat lon\" ;\n\t\tTX:scale_factor = 0.1 ;\n\t\tTX:missing_value = -999 ;\n\tdouble lambert_conformal_conic ;\n\t\tlambert_conformal_conic:Easternmost_Easting = 695500LL ;\n\t\tlambert_conformal_conic:GeoTransform = \"112000 1000.000 0 258000 0 1000.000\" ;\n\t\tlambert_conformal_conic:Northernmost_Northing = 586500LL ;\n\t\tlambert_conformal_conic:Southernmost_Northing = 258500LL ;\n\t\tlambert_conformal_conic:Westernmost_Easting = 112500LL ;\n\t\tlambert_conformal_conic:crs_wkt = \"PROJCS[\\\"ETRS89 / Austria Lambert\\\",GEOGCS[\\\"ETRS89\\\",DATUM[\\\"European_Terrestrial_Reference_System_1989\\\",SPHEROID[\\\"GRS 1980\\\",6378137,298.257222101,AUTHORITY[\\\"EPSG\\\",\\\"7019\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6258\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.01745329251994328,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4258\\\"]],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],PROJECTION[\\\"Lambert_Conformal_Conic_2SP\\\"],PARAMETER[\\\"standard_parallel_1\\\",49],PARAMETER[\\\"standard_parallel_2\\\",46],PARAMETER[\\\"latitude_of_origin\\\",47.5],PARAMETER[\\\"central_meridian\\\",13.33333333333333],PARAMETER[\\\"false_easting\\\",400000],PARAMETER[\\\"false_northing\\\",400000],AUTHORITY[\\\"EPSG\\\",\\\"3416\\\"],AXIS[\\\"Y\\\",EAST],AXIS[\\\"X\\\",NORTH]]\" ;\n\t\tlambert_conformal_conic:false_easting = 400000. ;\n\t\tlambert_conformal_conic:false_northing = 400000. ;\n\t\tlambert_conformal_conic:grid_mapping_name = \"lambert_conformal_conic\" ;\n\t\tlambert_conformal_conic:latitude_of_projection_origin = 47.5 ;\n\t\tlambert_conformal_conic:longitude_of_central_meridian = 13.3333333333333 ;\n\t\tlambert_conformal_conic:standard_parallel = 49., 46. ;\n\tfloat lat(y, x) ;\n\t\tlat:_FillValue = NaNf ;\n\t\tlat:long_name = \"latitude\" ;\n\t\tlat:standard_name = \"latitude\" ;\n\t\tlat:units = \"degrees_north\" ;\n\tfloat lon(y, x) ;\n\t\tlon:_FillValue = NaNf ;\n\t\tlon:long_name = \"longitude\" ;\n\t\tlon:standard_name = \"longitude\" ;\n\t\tlon:units = \"degrees_east\" ;\n\tdouble time(time) ;\n\t\ttime:_FillValue = NaN ;\n\t\ttime:long_name = \"time of measurement\" ;\n\t\ttime:standard_name = \"time\" ;\n\t\ttime:units = \"days since 1961-01-01\" ;\n\t\ttime:calendar = \"gregorian\" ;\n\tint x(x) ;\n\t\tx:axis = \"X\" ;\n\t\tx:long_name = \"x coordinate of projection\" ;\n\t\tx:standard_name = \"projection_x_coordinate\" ;\n\t\tx:units = \"m\" ;\n\tint y(y) ;\n\t\ty:axis = \"Y\" ;\n\t\ty:long_name = \"y coordinate of projection\" ;\n\t\ty:standard_name = \"projection_y_coordinate\" ;\n\t\ty:units = \"m\" ;\n\n// global attributes:\n\t\t:Conventions = \"CF-1.7\" ;\n\t\t:author = \"GeoSphere Austria (kontakt@geosphere.at)\" ;\n\t\t:comment = \"No additional comments\" ;\n\t\t:crs = \"EPSG:3416\" ;\n\t\t:freq = \"1D\" ;\n\t\t:grid_mapping = \"lambert_conformal_conic\" ;\n\t\t:history = \"Original data produced by GeoSphere Austria and updated daily\" ;\n\t\t:institution = \"GeoSphere Austria, Vienna, Austria\" ;\n\t\t:name = \"spartacus-daily v2.1\" ;\n\t\t:references = \"temperature - doi:10.1007/s00704-015-1411-4, precipitation - doi:10.1007/s00704-017-2093-x\" ;\n\t\t:source = \"geostatistical interpolation of surface station observations\" ;\n\t\t:spatial_domain = \"SPARTACUS\" ;\n\t\t:spatial_resolution = 1000LL ;\n\t\t:title = \"SPARTACUS - Spatial Dataset for Climate in Austria\" ;\n\t\t:coordinates = \"lambert_conformal_conic\" ;\n}\n```\n\n\n:::\n:::\n\n\n:::\n\n\n:::{.callout-note collapse=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# the  austrian shape\naustria = read_sf(austria_4326_path)\n\n# load it using stars\ndata_raw_stars = read_ncdf(raster_file_path)\nprint(data_raw_stars)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nstars object with 3 dimensions and 1 attribute\nattribute(s), summary of first 100000 cells:\n         Min. 1st Qu. Median     Mean 3rd Qu. Max.  NA's\nTX [Â°C] -20.6    -0.7    2.4 1.868485     4.6 12.2 35190\ndimension(s):\n     from  to         offset  delta                       refsys x/y\nx       1 584         112000   1000 +proj=lcc +lat_1=49 +lat_... [x]\ny       1 329         258000   1000 +proj=lcc +lat_1=49 +lat_... [y]\ntime    1 366 2024-01-01 UTC 1 days                      POSIXct    \n```\n\n\n:::\n\n```{.r .cell-code}\n# load it using terra\ndata_raw_terra = terra::rast(raster_file_path)\nprint(data_raw_terra)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nclass       : SpatRaster \ndimensions  : 329, 584, 366  (nrow, ncol, nlyr)\nresolution  : 1000, 1000  (x, y)\nextent      : 112000, 696000, 258000, 587000  (xmin, xmax, ymin, ymax)\ncoord. ref. : ETRS89 / Austria Lambert (EPSG:3416) \nsource      : SPARTACUS2-DAILY_TX_2024.nc:TX \nvarname     : TX (daily maximum of air temperature) \nnames       :           TX_1,           TX_2,           TX_3,           TX_4,           TX_5,           TX_6, ... \nunit        : degree_Celsius, degree_Celsius, degree_Celsius, degree_Celsius, degree_Celsius, degree_Celsius, ... \ntime (days) : 2024-01-01 to 2024-12-31 \n```\n\n\n:::\n:::\n\n:::\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
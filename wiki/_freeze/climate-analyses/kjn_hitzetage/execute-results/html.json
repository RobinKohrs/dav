{
  "hash": "5cb546e18ef015e6fb56a61481378f7e",
  "result": {
    "markdown": "---\n# -------------------------------------\n# REQUIRED & COMMON FIELDS\n# -------------------------------------\ntitle: \"Tropennächte\"\nauthor: \"Robin Kohrs / Netzwerk Klimajournalismus\"\ndate: \"2025-04-27\" # Use specific date, or \"today\" to auto-update on render\ndate-format: \"DD MMMM YYYY\" # Optional: How the date is displayed (e.g., 17 October 2023)\n\n# -------------------------------------\n# OPTIONAL DESCRIPTIVE FIELDS\n# -------------------------------------\n# subtitle: \"SUBTITLE:...\" # Optional additional detail\n# abstract: | # Optional multi-line summary of the analysis goals/findings\n  # Abstract\nkeywords: [climate data, analysis, netzwerk klimajournalismus, topic1, topic2] # Optional keywords\n\n# -------------------------------------\n# CUSTOM FIELDS (Examples - Adapt as needed)\n# -------------------------------------\n# You can define any key-value pairs here. They can sometimes be accessed\n# within your document or code (e.g., via quarto::quarto_metadata()).\nanalysis:\n  id: \"NKA-YYYY-NN\" # Example: Internal analysis ID\n  version: \"1.0\" # Version of this specific analysis document\n  status: \"Draft\" # E.g., Draft, In Review, Final\n  lead: \"Person Responsible\"\ndata:\n  source: \"[Name of Data Provider/URL]\"\n  accessed: \"YYYY-MM-DD\" # Date data was downloaded/accessed\n  processing_script: \"[Path to script, if any]\" # Reference R script used\n\n# -------------------------------------\n# EXECUTION OPTIONS (Control R/Python code execution)\n# -------------------------------------\nexecute:\n  echo: false # Set to 'true' to show code chunks by default\n  warning: false # Set to 'true' to show warnings\n  message: false # Set to 'true' to show messages\n  # cache: true # Uncomment to cache results of computations (speeds up re-rendering)\n  # error: true # Set to 'false' to stop rendering on code errors\n\n---\n\n\n## Daten bekommen\n\n\n\n\n\n\n\n### Welche Datensätze bei der Geosphere eignen sich?\n\n- Für das Ermitteln von Tropennächten eigenen sich am besten die Stationsdaten, da alles Andere interpoliert ist. \n\n- Auch brauchen wir sub-Tagesdaten. Da gibt es 1h und 10min. Da es 6 mal so viele Daten wären verwende ich die 1h Daten!\n\n\n:::{.callout-note collapse=true}\n\n## `klima-v2-1h` ist am geignetsten\n\n\n::: {.cell}\n\n```{.r .cell-code}\nds = geosphere_get_datasets()\nds %>% \n  filter(str_detect(resource_id, \"klima-v2\")) %>% \n  datatable(options = list(pageLength=5))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-82a62103f960fcaa9812\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-82a62103f960fcaa9812\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\"],[\"station\",\"station\",\"station\",\"station\",\"station\",\"station\",\"station\",\"station\",\"station\",\"station\"],[\"historical\",\"historical\",\"historical\",\"historical\",\"historical\",\"historical\",\"historical\",\"historical\",\"historical\",\"historical\"],[\"geojson\",\"csv\",\"geojson\",\"csv\",\"geojson\",\"csv\",\"geojson\",\"csv\",\"geojson\",\"csv\"],[\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1d\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1d\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1h\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1h\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1m\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1m\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-10min\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-10min\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1y\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1y\"],[\"klima-v2-1d\",\"klima-v2-1d\",\"klima-v2-1h\",\"klima-v2-1h\",\"klima-v2-1m\",\"klima-v2-1m\",\"klima-v2-10min\",\"klima-v2-10min\",\"klima-v2-1y\",\"klima-v2-1y\"],[\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1d/metadata\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1d/metadata\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1h/metadata\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1h/metadata\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1m/metadata\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1m/metadata\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-10min/metadata\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-10min/metadata\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1y/metadata\",\"https://dataset.api.hub.geosphere.at/v1/station/historical/klima-v2-1y/metadata\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>type<\\/th>\\n      <th>mode<\\/th>\\n      <th>response_formats<\\/th>\\n      <th>url<\\/th>\\n      <th>resource_id<\\/th>\\n      <th>metadata_url<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"pageLength\":5,\"columnDefs\":[{\"orderable\":false,\"targets\":0}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false,\"lengthMenu\":[5,10,25,50,100]},\"selection\":{\"mode\":\"multiple\",\"selected\":null,\"target\":\"row\",\"selectable\":null}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n:::\n\n### Was wollen wir zeigen?\n\n1. **Die Intensität der Tropnnächte: ** Nicht nur die Anzahl an Tropennächten sondern die minimale Temperatur\n\n\n### Welche Stationen nehmen den Temperaturparamter auf?\n\n- Nur Wien?\n\n- Alle Landeshauptstädte?\n\n-> Die kombinierte Station an der Wiener Hohen Warte misst seit 1872\n\n\n:::{.callout-note collapse=true}\n\n::: {.cell}\n\n```{.r .cell-code}\nmeta = geosphere_explore_resource(\"klima-v2-1h\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 38 × 3\n  name      long_name                                      unit \n  <chr>     <chr>                                          <chr>\n1 cglo      Globalstrahlung Mittelwert                     W/m² \n2 cglo_flag Qualitätsflag für Globalstrahlung Mittelwert   code \n3 dd        Windrichtung 360° Mittelwert                   °    \n4 dd_flag   Qualitätsflag für Windrichtung 360° Mittelwert code \n5 ddx       Windrichtung zur Spitzenböe                    °    \n6 ddx_flag  Qualitätsflag für Windrichtung zur Spitzenböe  code \n# ℹ 32 more rows\n# A tibble: 38 × 3\n  name      long_name                                      unit \n  <chr>     <chr>                                          <chr>\n1 cglo      Globalstrahlung Mittelwert                     W/m² \n2 cglo_flag Qualitätsflag für Globalstrahlung Mittelwert   code \n3 dd        Windrichtung 360° Mittelwert                   °    \n4 dd_flag   Qualitätsflag für Windrichtung 360° Mittelwert code \n5 ddx       Windrichtung zur Spitzenböe                    °    \n6 ddx_flag  Qualitätsflag für Windrichtung zur Spitzenböe  code \n# ℹ 32 more rows\n```\n:::\n\n```{.r .cell-code}\nmeta$station_historical_csv$metadata$stations %>% \n  filter(id==105) %>% \n  datatable()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-d51ff4b7ef5f79ffd974\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-d51ff4b7ef5f79ffd974\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\"],[\"COMBINED\"],[105],[null],[\"Wien Hohe Warte\"],[\"Wien\"],[48.24861],[16.35639],[198],[\"1872-05-01T00:00:00+00:00\"],[\"2100-12-31T00:00:00+00:00\"],[true],[true],[true]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>type<\\/th>\\n      <th>id<\\/th>\\n      <th>group_id<\\/th>\\n      <th>name<\\/th>\\n      <th>state<\\/th>\\n      <th>lat<\\/th>\\n      <th>lon<\\/th>\\n      <th>altitude<\\/th>\\n      <th>valid_from<\\/th>\\n      <th>valid_to<\\/th>\\n      <th>has_sunshine<\\/th>\\n      <th>has_global_radiation<\\/th>\\n      <th>is_active<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":[2,3,6,7,8]},{\"orderable\":false,\"targets\":0}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false},\"selection\":{\"mode\":\"multiple\",\"selected\":null,\"target\":\"row\",\"selectable\":null}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n:::\n\n\n### Get the data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nyears = 1900:2025\nmonths = 4:10\n\nprint(getwd())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"/home/robin/projects/personal/dav/wiki/climate-analyses\"\n```\n:::\n\n```{.r .cell-code}\nprint(here())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"/home/robin/projects/personal/dav\"\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/datatables-binding-0.29/datatables.js\"></script>\n<script src=\"../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
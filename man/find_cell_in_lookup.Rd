% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/find_cell.R
\name{find_cell_in_lookup}
\alias{find_cell_in_lookup}
\title{Find a raster cell containing a specific coordinate from a lookup directory}
\usage{
find_cell_in_lookup(coords, lookup_dir, crs = 4326)
}
\arguments{
\item{coords}{A numeric vector of length 2: \code{c(longitude, latitude)}.}

\item{lookup_dir}{A string path to the 'lookups' directory generated by
\code{spatial_create_lookup}. This directory must contain \code{main.csv} and the
\code{grid_cells} subdirectory.}

\item{crs}{The Coordinate Reference System (CRS) of the input coordinates,
specified as an EPSG code (e.g., 4326 for WGS 84). Defaults to 4326.}
}
\value{
A list containing the data for the matching cell (id, group_id,
bounding box, and corner coordinates). If no cell is found, returns \code{NULL}.
}
\description{
This function searches a two-level lookup structure (as generated by
\code{spatial_create_lookup}) to find the specific grid cell that contains a
given pair of coordinates. It first identifies potential groups by checking
the main lookup file, then searches within the relevant group file(s) to
find the exact cell.
}
\examples{
\dontrun{
# First, generate a lookup structure
r = terra::rast(xmin = 9, xmax = 17, ymin = 46, ymax = 49,
                 resolution = 0.1, crs = "EPSG:4326")
r[] = 1:terra::ncell(r)
temp_raster_path = file.path(tempdir(), "austria_dummy.tif")
terra::writeRaster(r, temp_raster_path, overwrite=TRUE)
temp_output_dir = tempdir()

spatial_create_lookup(
  input_raster_file = temp_raster_path,
  output_base_dir = temp_output_dir,
  n_groups = 10
)

# Define the lookup directory
lookup_path = file.path(temp_output_dir, "lookups")

# Find the cell for a specific coordinate
vienna_coords = c(16.3738, 48.2082)
found_cell = find_cell_in_lookup(vienna_coords, lookup_path)
print(found_cell)
}
}

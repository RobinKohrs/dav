% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/envir_get_sea_ice_extent.R
\name{envir_get_sea_ice_extent}
\alias{envir_get_sea_ice_extent}
\title{Download Arctic/Antarctic Sea Ice Extent Data}
\usage{
envir_get_sea_ice_extent(years = NULL, pole = "north", window = 5)
}
\arguments{
\item{years}{A numeric vector of years for which to retrieve daily data.}

\item{pole}{Character string: \code{"north"} (default) for Arctic or \code{"south"} for Antarctic.}

\item{window}{Numeric: The size of the moving average smoothing window (days).
Defaults to \code{5}. Set \code{window = 1} to retrieve raw, unsmoothed data.
Must be a positive integer.}
}
\value{
A tidy data frame with the following columns:
\itemize{
\item \code{date}: The date (as \code{Date} objects). For yearly data, this is the actual
date. For quantile data, this is the day-of-year mapped onto the
base year 2000 (a leap year) for consistent plotting.
\item \code{ice_extent_mi_sqkm}: Sea ice extent in millions of square kilometers.
\item \code{variable}: Character string indicating the data type:
\itemize{
\item The year (e.g., \code{"2023"}) for specific year data.
\item The quantile label (e.g., \code{"q50_1981_to_2010"}, \code{"q25_1981_to_2010"})
for aggregate data.
}
\item \code{pole}: Character string, either \code{"north"} or \code{"south"}.
\item \code{smoothing_window}: Numeric, the window size used (\code{1} indicates raw data).
}
}
\description{
Fetches daily sea ice extent data from the National Snow and Ice Data Center
(NSIDC) REST API \url{https://nsidc.org/arcticseaicenews/charctic-interactive-sea-ice-graph/}.
Allows specifying years, pole (North/Arctic or South/Antarctic), and optionally
applying a smoothing window. Also retrieves the 1981-2010 quantile data
(median, IQR, range) for comparison, applying the same smoothing if specified.
}
\examples{
\dontrun{
# Get Arctic data for 2022 and 2023 with default 5-day smoothing
ice_data_arctic_smooth = fetch_sea_ice_extent(years = c(2022, 2023))
print(head(ice_data_arctic_smooth))

# Get Arctic data for 2022 and 2023 with NO smoothing (raw data)
ice_data_arctic_raw = fetch_sea_ice_extent(years = c(2022, 2023), window = 1)
print(head(ice_data_arctic_raw))

# Example of plotting (requires ggplot2, dplyr, lubridate)
if (requireNamespace("ggplot2", quietly = TRUE) &&
    requireNamespace("dplyr", quietly = TRUE) &&
    requireNamespace("lubridate", quietly = TRUE)) {

  library(ggplot2)
  library(dplyr)
  library(lubridate)

  # Plot 2023 Arctic raw data against historical raw range/median
  fetch_sea_ice_extent(years = 2023, pole = "north", window = 1) \%>\%
    filter(variable \%in\% c("2023", "q0_1981_to_2010", "q100_1981_to_2010", "q50_1981_to_2010")) \%>\%
    # Add a temporary DOY column for plotting alignment
    mutate(doy = yday(date)) \%>\%
    ggplot(aes(x = doy, y = ice_extent_mi_sqkm, color = variable)) +
    geom_line(linewidth = 1) +
    labs(title = "Arctic Sea Ice Extent (2023 Raw vs 1981-2010 Raw)",
         x = "Day of Year",
         y = "Ice Extent (Million sq km)",
         color = "Data Series") +
    theme_minimal()
}
}
}
